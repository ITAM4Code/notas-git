<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Basic Branching and Merging - Notas de Pro Git</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="1_intro.html"><strong aria-hidden="true">1.</strong> ¿Qué es Git?</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="states.html"><strong aria-hidden="true">1.1.</strong> The Three States</a></li><li class="chapter-item expanded "><a href="basic_git_workflow.html"><strong aria-hidden="true">1.2.</strong> Basic Git Workflow</a></li><li class="chapter-item expanded "><a href="command_line_interface.html"><strong aria-hidden="true">1.3.</strong> Command Line Interface</a></li></ol></li><li class="chapter-item expanded "><a href="2_basico.html"><strong aria-hidden="true">2.</strong> Básicos de Git</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="repos.html"><strong aria-hidden="true">2.1.</strong> Getting a Git Repository</a></li><li class="chapter-item expanded "><a href="recording_changes.html"><strong aria-hidden="true">2.2.</strong> Recording changes</a></li><li class="chapter-item expanded "><a href="ignoring_files.html"><strong aria-hidden="true">2.3.</strong> Ignoring Files</a></li><li class="chapter-item expanded "><a href="staged_changes.html"><strong aria-hidden="true">2.4.</strong> Viewing Staged and Unstaged Changes</a></li><li class="chapter-item expanded "><a href="commiting_changes.html"><strong aria-hidden="true">2.5.</strong> Commiting your changes</a></li></ol></li><li class="chapter-item expanded "><a href="remove_files.html"><strong aria-hidden="true">3.</strong> Removing Files</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Commit_History.html"><strong aria-hidden="true">3.1.</strong> Viewing the Commit History</a></li><li class="chapter-item expanded "><a href="undoing_things.html"><strong aria-hidden="true">3.2.</strong> Undoing things</a></li><li class="chapter-item expanded "><a href="working_remotes.html"><strong aria-hidden="true">3.3.</strong> Working with remotes</a></li></ol></li><li class="chapter-item expanded "><a href="Git_Branching.html"><strong aria-hidden="true">4.</strong> Git Branching</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="branching_and_merging.html" class="active"><strong aria-hidden="true">4.1.</strong> Basic Branching and Merging</a></li><li class="chapter-item expanded "><a href="branching_Workflow.html"><strong aria-hidden="true">4.2.</strong> Branching Workflows</a></li><li class="chapter-item expanded "><a href="rebasing.html"><strong aria-hidden="true">4.3.</strong> Rebasing</a></li><li class="chapter-item expanded "><a href="distributed_Workflows.html"><strong aria-hidden="true">4.4.</strong> Distributed workflows</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Notas de Pro Git</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="basic-branching-and-merging"><a class="header" href="#basic-branching-and-merging">Basic Branching and Merging</a></h1>
<p>El procedimiento básico para unir (<em>merge</em>) dos ramas es moverse, o
“activar” (<em>checkout</em>) la rama hacia la cual se va a unir, y correr el
comando <code>git merge &lt;branch&gt;</code>. Hay diferentes tipos de <em>merge</em>s que
pueden ocurrir. Cuando la rama que se unió estába directamente adelante,
sin cambios divergentes, Git lleva a cabo una unión <em>fast-forward</em>
(avance rápido). Es decir, Git simplemente mueve el apuntador <code>HEAD</code>
hacia adelante.</p>
<p>Si después de unir dos ramas ya no necesitas la que fue unida, la puedes
eliminar fácilmente con el comando <code>branch</code> y la opción <code>-d</code>, corto para
<code>–delete</code></p>
<pre><code>$ git branch -d &lt;branch&gt;
</code></pre>
<p>Cuando intentas unir dos ramas con cambios divergentes, o a la que se
intenta unir no es ancestro directo de la que se une, Git no puede hacer
una unión <em>fast-forward</em>. En esos casos, Git tiene que hacer una unión
entre tres commits (<em>three-way merge</em>), que podemos pensar como nodos
sobre las ramas. Sin embargo, como los cambios en ambas ramas no
conflictúan entre sí, Git aún puede hacer una unión simple; es decir,
una que no requiere intervención del usuario. Cuando esto sucede, se
dice que no hay conflictos. En este caso particular, la unión se hace
entre los dos nodos usuales más un tercer nodo que es su ancestro común
más cercano.</p>
<p>Al unir dos ramas, Git combina los contenidos de manera automática (si
puede), y automáticamente crea un nuevo <em>commit</em>.</p>
<h3 id="basic-merge-conflicts"><a class="header" href="#basic-merge-conflicts">Basic Merge Conflicts</a></h3>
<p>Hay ocasiones en las que Git no puede hacer uniones simples y necesita
consultar con un usuario cuales cambios mantener. Estos conflictos se
dan cuando se intentan fusionar (unir) dos ramas que tienen cambios que
no son compatibles entre si. Por ejemplo, cuando se modifica un archivo
de dos maneras distintas en el mismo lugar con respecto a el ancestro en
común más cercano.</p>
<p>Un ejemplo de cuando no se puede hacer una unión limpia:</p>
<pre><code>$ git merge iss53
Auto-merging index.html
CONFLICT (content): Merge conflict in index.html
Automatic merge failed; fix conflicts and then commit the result.
</code></pre>
<p>Cuando sucede un conflicto, Git pausa el proceso de unión que culmina
con un <em>commit</em> y espera a que el usuario resuelva los conflictos. Si
corremos <code>git status</code> después de un conflicto, podemos ver en qué
archivos se dió el conflicto para empezar a solucionarlo</p>
<pre><code>$git status
On branch master
You have unmerged paths.
  (fix conflicts and run &quot;git commit&quot;)

Unmerged paths:
  (use &quot;git add &lt;file&gt;...&quot; to mark resolution)

    both modified:      index.html

no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</code></pre>
<p>En el ejemplo anterior el conflicto se dió en el archivo <code>index.html</code>.
Cuando ocurre un conflicto Git modifica los archivos y les añade
marcadores para ayudar a resolver el conflicto. Estos marcadores están
para que se pueda abrir manualmente el archivo, y decidir qué cambios se
quedan y cuales se van. Abriendo el archivo con conflicto, se vería algo
como esto:</p>
<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD:archivo.txt
Contenido en HEAD. Es decir, rama local hacia la cual se hace la union
=======
Contenido en branch, rama que esta siendo unida a HEAD
&gt;&gt;&gt;&gt;&gt;&gt;&gt; branchname:archivo.txt
</code></pre>
<p>Entre los corchetes de apertura <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code> y el separador <code>=======</code> están
los cambios que están en donde actualmente se encuentra <code>HEAD</code>. Es
decir, los cambios en la rama que está activada actualmente, hacia la
cual se quiere unir. En el encabezado se aclara en qué rama está, y el
archivo que tuvo conflictos. En la parte desde el separador hasta los
corchetes de cerradura <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> están los cambios <em>incoming</em>. Es decir,
los que están en la rama que se está tratando de unir.</p>
<p>Algunos editores de texto y IDEs están configurados para reconocer estos
bloques generados automáticamente por Git, y dan ayuda visual
poniendolos en fondos de colores, o dando botones de ayuda para aceptar
cambios <em>incoming</em>, mantener el estado actual, o incluso mantener ambos.
Si tu editor o IDE no tiene esta funcionalidad, puedes usar las
herramientas visuales que vienen con Git, corriendo <code>git mergetool</code>.</p>
<p>Para resolver un conflicto se eligen los cambios a mantener (o se borran
ambos), y se quitan los marcadores generados por Git. Una vez que se
decidió qué cambios mantener y se añade el archivo resuelto (sin
marcadores) al <em>Staging Area</em>, Git entenderá que el conflicto fue
resuelto. Si se corre <code>git status</code> en este punto Git pedirá confirmación
de que se resolvió exitosamente el conflicto. Para finalizar la unión se
confirman todos los cambios con <code>git commit</code>. Nótese que ahora no
escribimos un mensaje de confirmación, Git lo añade automáticamente con
la información más importante para señalizar que hubo una unión y
resolución de conflicto.</p>
<h3 id="branch-management"><a class="header" href="#branch-management">Branch Management</a></h3>
<p>El comando <code>git branch</code> al usarse sin argumentos va a listar todas las
ramas del repo, y marca la activa con un <code>*</code> al lado izquierdo de su
nombre. Para mostrar el <em>commit</em> más reciente en cada rama, se puede
usar <code>git branch -v</code>.</p>
<p>A veces es util ver si las ramas tienen cambios incorporados a la rama
actual, o si aún no se han unido. Para esto existen las opciones
<code>–merged</code> y <code>–no-merged</code> que actúan como filtro. Por ejemplo al correr</p>
<pre><code>$ git branch --merged
  mergedbranch
* master
</code></pre>
<p>vemos que la rama <code>mergedbranch</code> ya fué unida a <code>master</code>. Como ya está
unida, es seguro eliminarla con <code>git branch -d mergedbranch</code> sin ningún
peligro. Sin embargo, si intentamos eliminar una rama que no ha sido
unida, digamos <code>unmerged-b</code>, Git nos dará un error y pedirá
confirmación.</p>
<pre><code>$ git branch -d unmerged-b
error: The branch 'unmerged-b' is not fully merged.
If you are sure you want to delete it, run 'git branch -D unmerged-b'.
</code></pre>
<p>Como muestra el mensaje de ayuda del comando anterior, se puede
sobreescribir el mecanismo de Git diseñado para no perder cambios usando
el switch <code>-D</code> (en mayúscula). Esto solo se hace si estás consciente de
que se perderán todos los cambios en esa rama. Por ejemplo, si era una
rama <em>throwaway</em> en la que se hizo un experimento.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="Git_Branching.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="branching_Workflow.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="Git_Branching.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="branching_Workflow.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
